"use strict";(self.webpackChunkpixema=self.webpackChunkpixema||[]).push([[938],{1938:function(e,t,i){i.r(t),i.d(t,{default:function(){return se}});var a,n=i(2791),l=i(7587),r=i(9527);!function(e){e.director="DIRECTOR",e.writer="WRITER",e.actor="ACTOR"}(a||(a={}));var c={tableHeader:"TableItem_tableHeader__u57Lg",tableData:"TableItem_tableData__LwF4P",light:"TableItem_light__OrhIm"},s=i(184),o=function(e){var t=e.tableHeader,i=void 0===t?"":t,a=e.tableData,n=void 0===a?"":a,r=(0,l.Fg)().isLightTheme;return(0,s.jsxs)("tr",{className:c.tableRow,children:[(0,s.jsx)("th",{className:c.tableHeader,children:i}),(0,s.jsx)("td",{className:"".concat(c.tableData," ").concat(r&&c.light),children:n})]})},d="Table_tableAbout__S0Uu2",m=function(e){var t=e.config,i=void 0===t?[]:t;return(0,s.jsx)("table",{className:d,children:(0,s.jsx)("tbody",{children:i.map((function(e){return(0,s.jsx)(o,{tableHeader:e.tableHeader,tableData:e.tableData},e.tableHeader)}))})})},u=i(1413),f=i(885),v=i(9434),_=i(60),h=i(5984),b="SocialNetwork_wrapper__bFoBw",g="SocialNetwork_lightWrapper__Ry1Y3",p="SocialNetwork_text__IcMl7",x="SocialNetwork_lightText__w2vcq",j="SocialNetwork_buttonShare__RDzQo",S=function(){var e=(0,l.Fg)().isLightTheme;return(0,s.jsxs)("div",{className:"".concat(b," ").concat(e&&g),children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"".concat(p," ").concat(e&&x),children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f:"})}),(0,s.jsx)("div",{className:j,children:(0,s.jsx)("div",{className:"uSocial-Share","data-pid":"d3c4f9aca735ce62c6200be409f617af","data-type":"share","data-social":"vk,telegram,fb","data-options":"round-rect,style1,default,absolute,horizontal,size32,eachCounter0,counter0,mobile_position_left,cutUrl"})})]})};var F=i.p+"static/media/Bookmark.95e9e87510d9d5ec6553f105f49fbd73.svg";var N=i.p+"static/media/WhiteBookmark.cf40f2802824881d25e588a7e1a5b698.svg",w=i(2346);var k=i.p+"static/media/ShareNodes.7e1a2635c9dfd0ce8001f30aeaa8a828.svg";var T=i.p+"static/media/WhiteShare.3b78aeb377f252fb4e13d148c2aaf88c.svg";var Z=i.p+"static/media/PurpleShare.416e3ab96d7495b10ff9431e0b344d42.svg",y="SelectedFilmActions_actions__WTgGs",R="SelectedFilmActions_buttonBookmark__iZXzc",D="SelectedFilmActions_buttonShare__7YG61",C="SelectedFilmActions_socialsWrapper__X5oZ3",L="SelectedFilmActions_lightButton__ykc93",H=function(e){var t=e.film,i=(0,v.I0)(),a=(0,l.Fg)(),r=a.isLightTheme,c=a.isDarkTheme,o=(0,n.useState)(!1),d=(0,f.Z)(o,2),m=d[0],b=d[1];return(0,s.jsxs)("div",{className:y,children:[(0,s.jsx)(h.ZP,{onClick:function(){i((0,_.MO)((0,u.Z)((0,u.Z)({},t),{},{favorite:!t.favorite})))},variant:h.pG.forSelectedFilm,className:"".concat(R," ").concat(r&&L),children:(0,s.jsx)("img",{src:r&&t.favorite?w.Z:c&&t.favorite||r?N:F,alt:"bookmarkIcon"})}),(0,s.jsx)(h.ZP,{onClick:function(){return b((function(e){return!e}))},variant:h.pG.forSelectedFilm,className:"".concat(D," ").concat(r&&L),children:(0,s.jsx)("img",{src:r&&m?Z:c&&m||r?T:k,alt:"shareIcon"})}),(0,s.jsx)("div",{className:C,children:m&&(0,s.jsx)(S,{})})]})},I=i(4165),G=i(5861),M=i(411),P=i(5671),A=i(3144),E=i(3354),B=i(9277),V=function(){function e(){(0,P.Z)(this,e)}return(0,A.Z)(e,null,[{key:"getRecommendations",value:function(){var e=(0,G.Z)((0,I.Z)().mark((function e(){var t,i=arguments;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,E.Z.get("https://kinopoiskapiunofficial.tech/api/v2.2/films?genres=".concat(t)).then(B.A).then((function(e){var t=[];return e.items.forEach((function(e){t.push(e)})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),z=i(571);var O=i.p+"static/media/arrowLeftDark.2fbf290c60eb28e9ddbe8509b5d68409.svg";var W=i.p+"static/media/arrowLeftLight.73a7fef8bbfde0b7c972f57fd0e29038.svg";var U=i.p+"static/media/arrowRightDark.923ad59a78b981c532992c9fcbede5b5.svg";var q=i.p+"static/media/arrowRightLight.fc309d736323d6d2b3e26197a83a7906.svg",K="Arrows_arrows__wH2fH",X="Arrows_arrow__LYOB3",Y=function(){var e=(0,l.Fg)().isLightTheme,t=(0,n.useContext)(ne).changeSlide;return(0,s.jsxs)("div",{className:K,children:[(0,s.jsx)(h.ZP,{variant:h.pG.forIcon,className:X,onClick:function(){t(-1)},children:(0,s.jsx)("img",{src:e?O:W,alt:"arrowRight"})}),(0,s.jsx)(h.ZP,{variant:h.pG.forIcon,className:X,onClick:function(){t(1)},children:(0,s.jsx)("img",{src:e?U:q,alt:"arrowRight"})})]})},J=i(417),Q="SliderContext_slider__nVbws",$="SliderContext_recommendHeader__d9H9J",ee="SliderContext_slideList__Ivup7",te="SliderContext_light__aTsLA",ie="SliderContext_film__NY6CZ",ae=function(){var e=(0,r.k)(),t=e.isViewForSlider,i=e.isSecondaryView,a=e.isTabletView,l=e.isMobileView,c=(0,n.useContext)(ne),o=c.slideNumber,d=c.items,m=l?281:a?480:i?498:t?614:920;return(0,s.jsx)("div",{className:ee,style:{transform:"translateX(-".concat(o&&o*m,"px)")},children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,s.jsx)(J.Z,(0,u.Z)((0,u.Z)({},e),{},{className:ie}),t)}))})},ne=(0,n.createContext)({items:[],slidesCount:null,slideNumber:null,changeSlide:function(){}}),le=function(e){var t=e.str,i=void 0===t?"":t,a=e.limit,r=void 0===a?4:a,c=e.autoPlay,o=void 0!==c&&c,d=e.autoPlayTime,m=void 0===d?5e3:d,u=(0,l.Fg)().isLightTheme,v=(0,n.useState)([]),_=(0,f.Z)(v,2),h=_[0],b=_[1],g=(0,n.useState)(0),p=(0,f.Z)(g,2),x=p[0],j=p[1],S=(0,n.useState)(null),F=(0,f.Z)(S,2),N=F[0],w=F[1],k=h.length/r,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j(x+e<0?k-1:(x+e)%k)};return(0,n.useEffect)((function(){var e=function(){var e=(0,G.Z)((0,I.Z)().mark((function e(){var t,a,n,l;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.Z.getGenresId();case 2:if(!(t=e.sent)){e.next=9;break}return n=null===(a=t.find((function(e){return(null===e||void 0===e?void 0:e.genre)===i})))||void 0===a?void 0:a.id,e.next=7,V.getRecommendations(n);case 7:l=e.sent,b(l);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,n.useEffect)((function(){if(o){var e=setInterval((function(){T(1)}),m);return function(){clearInterval(e)}}}),[h.length,x]),(0,s.jsx)("div",{className:Q,onTouchStart:function(e){var t=e.touches[0].clientX;w(t)},onTouchMove:function(e){if(null!==N){var t=e.touches[0].clientX,i=N-t;i>10&&T(1),i<-10&&T(-1),w(null)}},children:(0,s.jsxs)(ne.Provider,{value:{items:h,slidesCount:h.length,slideNumber:x,changeSlide:T},children:[(0,s.jsxs)("div",{className:$,children:[(0,s.jsx)(z.Z,{className:u?te:"",variant:z.B.big,text:"Recommendations"}),(0,s.jsx)(Y,{})]}),(0,s.jsx)(ae,{})]})})};var re=i.p+"static/media/IMDb.81b5b92c82b98f43ac9676c0163ae985.svg",ce={selectedFilm:"SelectedFilm_selectedFilm__N8h-7",poster:"SelectedFilm_poster__oN+Rx",selectedFilmGenre:"SelectedFilm_selectedFilmGenre__uIq6G",selectedFilmTitle:"SelectedFilm_selectedFilmTitle__Wrq0I",selectedFilmMarkers:"SelectedFilm_selectedFilmMarkers__RjKbf",ratings:"SelectedFilm_ratings__6hq99",yellow:"SelectedFilm_yellow__4moJe",red:"SelectedFilm_red__4dfLk",imdb:"SelectedFilm_imdb__0V-wO",runTime:"SelectedFilm_runTime__GLqDi",selectedFilmPlot:"SelectedFilm_selectedFilmPlot__EMe4R",selectedFilmDescription:"SelectedFilm_selectedFilmDescription__YGvJa",light:"SelectedFilm_light__lVw8z",recommendations:"SelectedFilm_recommendations__M2CQf",recommendHeader:"SelectedFilm_recommendHeader__EJbNm",selectedFilmLeftSide:"SelectedFilm_selectedFilmLeftSide__vjj1p"},se=function(e){var t=(0,l.Fg)().isLightTheme,i=(0,r.k)().isMobileView,n=e.posterUrl,c=e.ratingAgeLimits,o=e.genres,d=e.nameRu,u=e.ratingKinopoisk,f=e.filmLength,v=e.description,_=e.year,h=e.boxOffice,b=e.countries,g=e.actors,p=e.directors,x=e.writers,j=null===c||void 0===c?void 0:c.replace(/[^0-9]/g,""),S=null===h||void 0===h?void 0:h.filter((function(e){return"BUDGET"===e.type})).map((function(e){return e.symbol+e.amount})).join(),F=null===b||void 0===b?void 0:b.map((function(e){return e.country[0].toUpperCase()+e.country.slice(1)})).join(", "),N=null===g||void 0===g?void 0:g.filter((function(e){return e.professionKey===a.actor})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),w=null===p||void 0===p?void 0:p.filter((function(e){return e.professionKey===a.director})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),k=null===x||void 0===x?void 0:x.filter((function(e){return e.professionKey===a.writer})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),T=null===o||void 0===o?void 0:o.map((function(e){return e.genre[0].toUpperCase()+e.genre.slice(1)})).join(" \u2022 "),Z=[{tableHeader:"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",tableData:_},{tableHeader:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",tableData:c?"+"+j:"+16"},{tableHeader:"\u0411\u044e\u0434\u0436\u0435\u0442",tableData:S||"$1000000"},{tableHeader:"\u0421\u0442\u0440\u0430\u043d\u0430",tableData:F},{tableHeader:"\u0410\u043a\u0442\u0451\u0440\u044b",tableData:N||"-"},{tableHeader:"\u0420\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u044b",tableData:w||"-"},{tableHeader:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439",tableData:k||"-"}];return(0,s.jsxs)("div",{className:ce.selectedFilm,children:[!i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:n,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(H,{film:e})]}),(0,s.jsxs)("div",{className:ce.selectedFilmRightSide,children:[(0,s.jsx)("div",{className:ce.selectedFilmGenre,children:T}),(0,s.jsx)("h1",{className:"".concat(ce.selectedFilmTitle," ").concat(t&&ce.light),children:d}),(0,s.jsxs)("div",{className:ce.selectedFilmMarkers,children:[null===u?(0,s.jsx)("div",{className:"".concat(ce.yellow),children:5}):(0,s.jsx)("div",{className:"".concat(u<5?ce.red:u>=7?ce.ratings:ce.yellow),children:u}),(0,s.jsxs)("div",{className:"".concat(ce.imdb," ").concat(t&&ce.lightMarkers),children:[(0,s.jsx)("img",{src:re,alt:"imdb"}),u||5]}),(0,s.jsxs)("div",{className:"".concat(ce.runTime," ").concat(t&&ce.lightMarkers),children:[f||120," min"]})]}),i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:n,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(H,{film:e})]}),!!v&&(0,s.jsx)("div",{className:"".concat(ce.selectedFilmPlot," ").concat(t&&ce.light),children:v}),(0,s.jsxs)("div",{className:ce.selectedFilmDescription,children:[(0,s.jsx)(m,{config:Z}),(0,s.jsx)("div",{className:ce.recommendations,children:(0,s.jsx)(le,{str:null!==o&&void 0!==o&&o.length?o[0].genre:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f",autoPlay:!0})})]})]})]})}}}]);
//# sourceMappingURL=938.98e57eb2.chunk.js.map